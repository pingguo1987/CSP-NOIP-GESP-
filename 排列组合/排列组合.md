# 一网打尽 CSP/NOIP排列组合」

<p align="center">
  <a href="https://github.com/pingguo1987"> <img src="https://img.shields.io/badge/github-pingguo1987-blue" height="25px" alt="github" />
  <a href="https://www.zhihu.com/people/wangsirliaoxinxixue"> <img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-wangsirliaoxinxixue-blue" height="25px" alt="wang sir">
</p> 
[TOC]

**针对历年来CSP和NOIP中的排列组合真题，总结出排列组合题目的17种解法，掌握了这些经典的解法在选择题中遇到排列组合题目，这就是送分题。**

各位，准备好纸笔，下面听我细索。。。

排列组合是组合数学中的基础。排列就是指从给定个数的元素中取出指定个数的元素进行排序；组合则是指从给定个数的元素中仅仅取出指定个数的元素，不考虑排序。

## 排列

### 排列数

从 `n`个不同元素中，任取`m`个元素按照一定的顺序排成一列，叫做从`n`个不同元素中取出`m`个元素的一个排列；从`n`个不同元素中取出`m`个元素的所有排列的个数，叫做从`n`个不同元素中取出`m`个元素的排列数，用A（n,m）表示。

排列的计算公式如下：

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241018140959037.png" />

### 组合数

从 `n`个不同元素中，任取 ![m \leq n](data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)`m`个元素组成一个集合，叫做从 `n`个不同元素中取出`m`个元素的一个组合；从 `n`个不同元素中取出`m`个元素的所有组合的个数，叫做从 `n`个不同元素中取出 `m`个元素的组合数，用符号C(n,m)来表示。

组合数计算公式

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241018141413269.png" />

## 计算方法

### 捆绑法（相邻问题）

1. 现有7本不同的书,2本文学类,2本理科类,3本语言类,把它们排成一排,同一类的书相邻的排法有（）种？

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合.png" />



2. 将4个人排成一排，若甲和乙必须排在一起，则共有（）种不同排法？

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合1.png" />



3. 现将A ,B,C,D,E,F六个字母排成一排，要求A,B相邻，且B,C不相邻，则不同的排列方式有( )种 ?
   A.192  B.240  C.120  D.28

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合2.png" />

4. 某办公楼前有7个连成一排的车位，现有三辆不同型号的车辆停放，恰有两辆车停放在相邻车位的方法有()种?

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合3.png" />

5. 10 双互不相同的鞋子混装在一只口袋中，从中任意抽取4只，出现如下结果，试求各有多少种情况
   (1)4只鞋子没有成双;

   >10 双鞋子取出来4双，然后，分别从这4双中的每一双取一只
   >
   >`C(10,4) * C(2,1) * C(2,1) * C(2,1) * C(2,1) = 3360 `

   (2)4只鞋子恰好成双;

   >10 双鞋子里面取2双
   >
   >`C(10,2) = 45`

   (3)4只鞋子2只成双，2只不成双；

   >10 双鞋子取3双，然后，从3双中取1双，从另外2双中各取一只
   >
   >`C(10,3) * C(3,1) * C(2,1) * C(2,1) = 1440`

### 插空法（不相邻问题）

1. 6名同学排队站成一排，要求甲乙两人不相邻，共有种不同的排法。

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合3_1.png" />

2. 甲、乙两人要在一排8个空座上就坐，若要求甲、乙两人每人的两旁都空座，则坐法种数为()
   A. 10   B.16   C.20   D.24

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合4.png" />

3. 27182 这5个数字进行排列，要求2个2不相邻，那么可以得到的排列有多少种？

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合5.png" />

4. 在一张节目单中原有6个节目，若保持这些节目相对顺序不变,再添加进去3个节目，则所有不同的添加方法共有多少种?

   >6个节目有7个空
   >
   >1）插入的3个节目相邻，`C(7,1) * A(3,3)`
   >
   >2）插入的3个节目2个相邻，`C(3,2) * A(2,2) * C(7,2) `
   >
   >3）插入的3个节目都不相邻，`C(7,3) * A(3,3)`

### 特殊位置优先发

1. 用0，1，2，3，4，5共6个数字，可以组成（）个没有重复数字的六位奇数？

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合6.png" />



2. 3名男生，4名女生，全体站成一排，其中甲不在最左端，乙不在最右的站法有（）种。

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合7.png" />

3. 7种不同的花种在排成一列的花盆里,若两种葵花不种在中间,也不种在两端的花盆里,有多少种不同的种法?

   >有两盆花不能放在中间和两端，那么剩下4个位置可以放，先把这2盆花放到这4个位置。`A(4,2) `
   >
   >剩余的5盆花，就可以随便放了。`A(5,5)`
   >
   >答案：`A(5,5) * A(4,2)`

4. 已知10件不同的产品中有4件次品，现对它们一 一测度，直至找到所有4件次品为止，若恰在第2次测试时，才测试到第一件次品，第8次才找到最后一件次品则共有多少种不同的测试方法?

   >测试到第8次就找到了
   >
   >第2次和第8次，分别找到一个。`C(4,2) * A(2,2)`
   >
   >在第2次和第8次中间有5次，在这5次中检测出2次次品。`C(5,2) * A(2,2)`
   >
   >剩余的4个合格产品`A（4,4）`
   >
   >答案：`C(4,2) * A(2,2)  * C(5,2) * A(2,2) * A(4,4) = 86400`

### 重排问题求幂法

1. 5位同学报名参加两个课外活动小组，每位同学限报其中一个小组，则不同的报名方法有（）种

   >每个人可以选2种，一共5个人,`2*2*2*2*2 = 32`

2. 6位同学报名参加两个课外活动小组，每位同学限报其中的一个小组，如果规定每位同学必须报名并且2个小组都要有人参加，则不同的报名方法共有()种？

   >题目要求每个小组都要有人参加，那就去除所有人都参加1小组，和所有人都参加2小组的这两种情况。
   >
   >`2*2*2*2*2*2 - 2 = 62`



### 至多至少问题（间接排除法）

1. 从4台甲型和5台乙型电视机中任取3台，其中至少要甲型和乙型电视机各一台 ，则不同的取法共有( )

   >全集：`C(9,3)`
   >
   >反向间接，全是甲或者乙：`C(4,3) + C(5,3)`
   >
   >结果：`C(9,3) - C(4,3) - C(5,3)`

2. 班里有43位同学 ，从中任抽5人，正，副班长，团支部书记至少有一人在内的抽法有多少种?

   >全集：`C(43,5)`
   >
   >反向间接，正副团支书一个都没有：`C(40,5)`
   >
   >结果：`C(43,5) - C(40,5)`

### 列举法

1. 三人互相传球，由甲开始发球，并作为第一次传球，经过5次传球后，球仍回到甲手中，则不同的传球方式共
   有(）

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合8.png" />

### 定序（重复）问题（倍缩法）

1. 7 人排队，其中甲、乙、丙3人顺序一定，共有（）不同的排法

   >当遇到重复或者有顺序的题目时，需要除以重复的个数或者有顺序的个数，比如本题是甲乙丙三个按顺序的，那就除以`A(3,3)`。
   >
   >`A(7,7)/A(3,3) = 840`

​          

2. 元宵节灯展后，悬挂有8盏不同的花灯需要取下，如图所示，每次取1盏，则不同的取法共有( )。

   <img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241018202042179.png" />

   >`A(8,8)/(A(4,4) * A(4,4) = 70`

3. 如图，三根绳子上共挂有6只气球，绳子上的球数依次为1，2，3，每枪只能打破一只气球，而且规定只有打
   破下面的气球才能打上面的气球，则将这些气球都打破的不同打法数是()

   <img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241018202333830.png" />

   >`A(6,6)/(A(2,2) * A(3,3)) = 60`

4. 12名同学合影，站成前排4人后排8人，现摄影师要从后排8人中抽2人调整到前排，若其他人的相对顺序不
   变，则不同调整方法的总数是()

   >`C(8,2)*A(6,6)/A(4,4)`
   >
   >其中 `A(4,4)`是因为前排4人顺序不变
   >

5. 英文单词“sentence”由8个字母构成，将这8个字母重新组合排列，一共可以得到英文单词的个数为( )(可以
   认为每个组合都是一个有意义的单词)

   >`A(8,8)/(A(3,3)*A(2,2))`
   >
   >e 有3个是重复的，n 有2个是重复的



### 占位法

1. 某班2022年元旦晚会原定的5个节目已排成节目单，开演前又增加了2个新节目，如果将这两个节目插入原节
   目单中，那么不同的插法的种数有()
   A.2种   B.11种   C.36种   D.42种

​          第一种方法：   `A(7,7)/A(5,5) = 42`

​          第二种方法： 

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合9.png" />

2. 有12名同学合影，站成了前排4人后排8人，现摄影师要从后排8人中抽2人调整到前排，若其他人的相对
   顺序不变，则不同调整方法的种数是()
   A.168   B.260    C.840  D.560

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合10.png" />



### 分组法

按下列要求分配6本不同的书
(1)分成三份，1份1本，1份2本，1份3本，有（）种不同的分配方式;

>`C(6,1) * C(5,2) *C(5,3) = 60` 
>
>注意：这里问的是分配的方法，是组合不是排序。

(2)甲、乙、丙三人中，一人得1本，一人得2本，一人得3本，有（）种不同的分配方式:

>`C(6,1) * C(5,2) *C(3,3) *A(3,3) = 360`
>
>注意：这里是分给了3个人，需要最后的排序。

(3)平均分成三份，每份2本，有（）种不同的分配方式;

>`C(6,2) * C(4,2) *C(2,2) /A(3,3) = 15`，假设有 AB CD EF 6个
>
>为什么会重复， 下面的这6种是一样的
>
>- AB   CD   EF      
>- AB   EF    CD
>- EF    AB   CD
>- EF    CD   AB
>- CD    AB  EF
>- CD    EF   AB
>
>注意：这里有个平均，最后的结果要除以平均个数的排列A(3,3)

(4)平均分配给甲、乙、丙三人，每人2本，有（）种不同的分配方式？

>`C(6,2) * C(4,2) *C(2,2) /A(3,3)  * A(3,3) = 90`
>
>注意：平均分给3个人，3个月需要排序

(5)分成三份，1份4本，另外两份每份1，有() 种不同的分配方式?

>`C(6,4) * C(2,1) * C(1,1)/A(,2) = 15`

(6)甲、乙、丙三人中，一人得4本，另外两人每人得1本，有()种不同的分配方式？

>`C(6,4) * C(2,1) *C(1,1) /A(2,2) *A(3,3)`

(7)甲得1本，乙得1本，丙得4本，有()种不同的分配方式?

>`C(6,1) * C(5,1) *C(4,4) = 30`

### 分配问题（混合问题（先分组在排序））

1. 将6位志愿者分成4组，其中两个组各2人，另两个组各1人，分赴世博会的四个不同场馆服务，不同的分配
   方案有（）种(用数字作答)。

   >`C(6,2) * C(4,2) * C(2,1) * C(1,1)/(A(2,2) * A(2,2)) * A(4,4) = 1080`
   >
   >注意：2人的平均2组，1人的平均2组，所以要除以2个A(2,2)

2. 某市为了更好的保障社区居民的日常生活，选派6名志愿者到甲、乙、丙三个社区进行服务，每人只能去一个地方，每地至少派一人，则不同的选派方案共有()
   A.540种  B.180种  C.360种  D.630种

   >**第一种**： 1， 2，3           `C(6,1) * C(5,2) * C(3,3) * A(3,3)`
   >
   >**第二种**： 1，1，4            `C(6,1)  * C(5,1) * C(4,2) /A(2,2)  * A(3,3)`
   >
   >**第三种**：2，2， 2            `C(6,2)  * C(4,2) * C(2,2) /A(3,3)  * A(3,3)`

3. 某校在重阳节当日安排4位学生到三所敬老院开展志愿服务活动，要求每所敬老院至少安排1人，则不同的分
   配方案数是()
   A.81  B.72  C.48  D.36

   >`C(4,1) * (3,1) *C(2,2) /A(2,2) * A(3,3) = 36`

4. 某校安排高一年级(1)~(5)班共5个班去A，B，C，D四个劳动教育基地进行社会实践，每个班去一个基每个基地至少安排一个班，则高(1)班被安排到A基地的排法总数为()种.

   >`C(5,2) * C(3,1) * C(2,1) * C(1,1) / A(3,3)  * A(3,3)`
   >
   >注意：除以A(3,3) 是因为有3个1， 乘以A(3,3) 是因为高一一班已经确定到A基地，那么就剩余3个基地进行全排列。



### 限制条件分配（相减法）

1. 某高校从某系的10名优秀毕业生中选4人分别到西部四城市参加中国四部经济开发建设 ，其中甲同学不到银川，乙不到西宁，有多少种不同的派遣方案?

   >全集：`A(10,4)`
   >
   >限制
   >
   >1）甲去银川，剩余的人随便选`A(9,3)`
   >
   >2）乙去西宁，剩余的人随便选`A(9,3)`
   >
   >3）此处多加了一次甲去银川和乙去西宁的情况，因为1）和2）中都包括了这种情况，所以要减去`A(8,2)`
   >
   >结果：`A(10,4) - A(9,3) - A(9,3) + A(8,2)`

2. 用0，1，2，3，4五个数成多少个不重复且3不在十位上的五位数?

   >全集：`A(5,5)`
   >
   >限制
   >
   >0在首位`A(4,4)` 或者 3在十位`A(4,4)`, 这两种情况中包括了2次出现0在首位和3在十位的情况，所以，要减去1次`A(3,3)`
   >
   >结果：`A(5,5) - A(4,4) - A(4,4) + A(3,3)`

3. 从6人中选4人去巴黎，伦敦，悉尼，英国4个城市，每个城市有1人，每人游览1个城市，且6人中，甲乙不去巴黎，则不同的方案有多少种?

   >全集：`A(6,4)`
   >
   >限制
   >
   >甲去巴黎`A(5,3)` 或者 乙去巴黎`A(5,3)`
   >
   >结果：`A(6,4) - A(5,3) - A(5,3)`
   >
   >

### 多元问题（分解与合成法）

1. 设集合`U={1,2,3,4,5}`，选择U的两个非空子集 A,B 要使B中最小的数大于A 中最大的数，则不同的选择方法有多少种?

   >第一种情况：A 中最大值为1，{1}，B 可以是{2,3,4,5} 任一非空子集，有2^4 -1 种，结果是：`1 * （2^4 -1）`
   >
   >第二种情况：A 中最大值为2，{2}，{1,2} ，B可以是{3,4,5} 任一非空子集，有2^3 -1种，结果是：`2*(2^3 -1)`
   >
   >第三种情况：A 中最大值为3，{3},{1,3},{2,3},{1,2,3} ，B可以是{4,5} 任一非空子集，有2^2 -1 种，结果是：`4 * (2^2 -1 )`
   >
   >第四种情况：A中最大值为4，{4},{1,4},{2,4},{3,4},{1,2,4},{1,3,4},{2,3,4},{1,2,3,4} ,B只能是{5}，结果是：`8*1`
   >
   >最终结果为：`15 + 14 + 12 + 8 = 49`

### 隔板法（相同元素）

1. 把6个相同的小球放入4个不同的箱子中，每个箱子都不空，共有多少种放法(）
   A.10种   B.24种   C.36种   D.60种

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合11.png" />

2. 某学校为增进学生体质，拟举办长跑比赛，该学校高一年级共有6个班，现将8个参赛名额分配给这6个班，每
   班至少1个参赛名额，则不同的分配方法共有()
   A.15种   B.21种    C.30种   D.35种

   >8个名额中间有7个位置可以放隔板，分给6个班，则放5个隔板就行，从7个位置选择5个放隔板
   >
   >`C(7,5)`

3. 从某校4个班级的学生中选出7名学生作为代表参加志愿者服务活动，若每个班级至少有一名代表，则有（）
   种不同的选法.

   >`C(6,3)`

4. x+y+z+w=100，求这个方程的正整数解个数是多少?自然数解的个数是多少?

   >从1到100这些数一共有99个空，分成4份，需要用3个隔板 ，第一问问正整数的个数`C(99,3)`
   >
   >第二问是自然数包括0，那么 把x,y,z,w 分别加1 变成` (x+1)+(y+1)+(z+1)+(w+1) = 104`,就变成了`C(103,3)`

5. 现在有30份《人民日报》需要分给3个不同的部门，且要求A部门至少要拿一份报纸，B部门至少要2份，C部门至少要3份。最终分配完有几种结果?

   >B 部门先分1份
   >
   >C 部门先分2份
   >
   >剩余27份，一共26个空插入2个板子`C(26,2)`

### 间接法（正难则反）

1. 从6位女学生和5位男学生中选出3位学生，分别担任数学、信息技术、通用技术科代表，要求这3位科代表
   中男、女学生都要有，则不同的选法共有.
   A.810种   B.840种   C. 1620 种   D.1680种

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合12.png" />



2. 某教师一天上3个班级的课，每班上1节，如果一天共9节课，上午5节，下午4节，并且教师不能连上3节课(第5节和第6节不算连上)，那么这位教师一天的课表的所有不同排法有()种

   >`C(9,3) *A(3,3) - 3*A(3,3) - 2*A(3,3) `

### 多面手（全能手）问题

在一次演唱会上共10名演员，其中8人能唱歌，5人会跳舞，现要演出一个2人唱歌2人伴舞的节目，有（）种选派方法(填数字)

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合13.png" />



### 最短路径问题

1. 某城市的街区有12个全等的矩形组成，其中实线表示马路，从A到B的最短路径有多少种?

   <img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241021145129874.png" />

   >从A 到B 一共是要走7步，往右走4步，往上走3步。
   >
   >`C(7,4)`  : 往右走4步后，剩下的只能往上走3步。

2. 如图，某城市的街区由12个全等的矩形组成(实线表示马路)，CD段马路由于正在维修，暂时不通，则从A到B的最短路径有()

   <img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241021145731223.png" />

   >从A 到C 的路径一共有：C(2,1)
   >
   >从D到B 的路径一共有：C(4,2)
   >
   >从A到B 的路径一共有：C(7,4)
   >
   >答案：`C(7,4) - C(4,2) - C(2,1)`

3. 方形是中国古代城市建筑最基本的形态，它体现的是中国文化中以纲常伦理为代表的社会生活规则，中国古代的建筑家善于使用木制品和竹制品制作各种方形建筑,如图，用大小相同的竹棍构造一个大正方体(由8个大小相同的小正方体构成)，若一只蚂蚁从A点出发，沿着竹棍到达B点，则蚂蚁选择的不同的最短路径共有( )

   <img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/image-20241021150323514.png" />

   >往右2步：C(6,2)
   >
   >往前2步：C(4,2)
   >
   >往上2步：C(2,2)
   >
   >`C(6,2) * C(4,2)* C(2,2)`

### 路灯问题（插空法）

1. 某道路亮起一排13盏路灯，为节约用电且不影响照明，现需要熄灭其中的3盏，若两端路灯不能熄灭，也不能熄灭相邻的2盏，那么所有不同熄灯方法的种数是（）

​         因为有不相邻，所以使用插空法，把要熄灭的3盏灯，插空到10栈中

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合14.png" />

2. 一条沿江公路上有18盏路灯，为节约用电，现打算关掉其中4盏路灯，为安全起见，要求公路的头尾两盏路灯不可关闭，关掉的相邻两个路灯之间至少有3盏亮着的路灯，则不同的方案总数共有（）种

<img src ="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/排列组合/排列组合/排列组合14 (1).png" />

## 历年真题

### CSP-X

#### [2023-CSP-X]

15.从6个白球和3个黑球中选出来4个球，至少有一个黑球的方案数是（）

A.111  B.2664  C.60  D.360

>至多至少问题（相减法）
>
>全集：C(9,4)
>
>4个都选择白球 C(6,4)
>
>答案：`C(9,4) - C(6,4) = 111`

#### [2024-CSP-X]

14.5个男生3个女生排成一排，3女生都不能相邻，有多少种方案（）

A.14400  B.2400  C.40320  D.720

>插空法
>
>5个男生有6个空，把3个女生插入到空中`A(5,5) * A(6,3) = 14400`

### CSP-J

#### [2019-CSP-J]

把8个同样的球放在5个同样的袋子里，允许有的袋子空着不放，问共有多少种不同的分法？（）提示：如果8个球都放在一个袋子里，无论是哪个袋子，都只算同一种分法

>枚举法求解。 
>
>将8拆成至多5个数之和（不计顺序），可按袋子个数分类讨论：
>
>1个袋子1种 
>
>2个袋子4种 
>
>3个袋子5种 
>
>4个袋子5种
>
>5个袋子3种 
>
>𝑎 𝑛 𝑠 = 1 + 4 + 5 + 5 + 3 = 18
>
>枚举： 
>
>0，0，0，0，8 
>
>0，0，0，1，7 
>
>0，0，0，2，6 
>
>0，0，0，3，5 
>
>0，0，0，4，4 
>
>0，0，1，1，6 
>
>0，0，1，2，5 
>
>0，0，1，3，4 
>
>0，0，2，2，4 
>
>0，0，2，3，3 
>
>0，1，1，1，5 
>
>0，1，1，2，4 
>
>0，1，1，3，3 
>
>0，1，2，2，3 
>
>0，2，2，2，2 
>
>1，1，1，1，4 
>
>1，1，1，2，3 
>
>1，1，2，2，2



> [!IMPORTANT]
>
> N球放M盒，其实有8种情况：
>
> 1. 球同，盒同，盒不可以为空
> 2. 球同，盒同，盒可以为空
> 3. 球同，盒不同，盒不可以为空
> 4. 球同，盒不同，盒可以为空
> 5. 球不同，盒同，盒不可以为空
> 6. 球不同，盒同，盒可以为空
> 7. 球不同，盒不同，盒不可以为空
> 8. 球不同，盒不同，盒可以为空
>
> **1 2 类情况，穷举法**
>
> **类型1**
>
> **7个相同球放入4个相同盒子，每盒至少一个**
>
> 4个盒子每个放1个，余3个。由于盒子相同，所以对于剩余的3个小球，使用凑数法并且不必考虑位置，因此，只有300，211，111三种。
>
> **类型2**
>
> **7个相同球放入4个相同盒子，可以空盒**
>
> 还是凑数，从大到小开始凑数。
>
> 0007 0016 0025 0034 0115 0124 0133 0223 1114 1123 1222
>
> 11种
>
> **3 4 类情况，用插板法（隔板法）**
>
> **类型3**
>
> 把` N` 个球排成一排，它们中间有 `N-1` 个空。从`N-1`取 `M-1` 个隔板插空，就把它们分成 `M `部分，即`M`个盒子。
>
> `C(N-1, M-1)`
>
> **类型4**
>
> 4 的公式在3的基础上升华出来的，为了避免空盒，先在每一个盒里假装放一个球，这样就有 N+M 个球`C(N+M-1, M-1)`
>
> **类型5**
>
> 球不同，盒同，盒不可以为空
>
> `C(N,M)`
>
> **类型6**
>
> 球不同，盒同，盒可以为空
>
> `C(N,M) + C(N,M-1) + ... + C(N,1)`
>
> **类型7**
>
> 球不同，盒不同，盒不可以为空
>
> `C(N,M) * A(M,M)`
>
> **类型8**
>
> N球不同，M盒不同，允许空
>
> 每个球都有`M`种选择，`N`个球就有` M^N `种分法。

#### [2020-CSP-J]

10.五个小朋友并排站成一列，其中有两个小朋友是双胞胎，如果要求这两个双胞胎必须相邻，则有(48)种不同排列方法?

A.24  B.36  C.72   D.48

>捆绑法
>
>两个双胞胎是一个单位，所以方案就是4的全排列A(4,4) = 24，然后双胞胎自已的全排列是A(2,2) ，结果是A(4,4) + A(2,2) = 48
>
>答案：D

14.10个三好学生名额分配到7个班级，每个班级至少有一个名额，一共有(B)种不同的分配方案。
A.56  B.84  C.72  D.504

> 插板法
>
> 指“10个三好学生名额不加区分，分配进7个不同班级”，这样就是插板法组合数C(9,6)=84
>
> 答案：B

15.有五副不同颜色的手套(共10只手套，每副手套左右手各1只)，一次性从中取6只手套，请问恰好能配成两副手套的不同取法有(D)种。
A.30 B.150 C.180 D.120

> 
>
> 先从五双手套中取完整的两双，C(5,2)=10，然后，从剩下的三双中，取不同色的两只手套，是先从三双中取两双C(3,2)=3，然后，再从两双中各取一，是C(2,1) * C(2,1)=4。
> 结果是：C(5,2) * C(3,2) *  C(2,1) * C(2,1) = 10 * 3 * 2 * 2=120
>
> 答案：D 

#### [2021-CSP-J]

10.6个人，两个人组一队，总共组成三队，不区分队伍的编号。不同的组队情况有(B)种。
A.10 B.15 C.30 D.20

>解析
>
>C(6,2) * C(4,2) * C(2,2) / A(3,3)  先给每一组选人，因为不区分编号，消除因为组号带来的不同，故需要除以 A(3,3)
>
>答案：B

12.由1,1,2,2,3这5个数组成的不同3位数有几种？

A.18  B.15 C.12 D.24

>重复问题（倍缩法）
>
>解析：
>
>无重复数字：只能选1,2,3， A(3,3) = 6
>
>有重复数字：选择1，C(2,2) *A(3,3) /A(2,2)  = 6  ，选择2， C(2,2) *A(3,3) /A(2,2)  = 6 
>
>答案：A

#### [2023-CSP-J]

6.小明在某一天中依次有七个空闲时间段，他想要选出至少一个空闲时间段来练习唱歌，但他希望任意两个练习的时间段之间都有至少两个空闲的时间段让他休息。则小明一共有( ) 种选择时间段的方案

A. 31   B. 18   C. 21   D. 33

>解析：枚举法
>
>选1个空闲时间：[1,2,3,4,5,6,7]，共7种方案
>选2个空闲时间：[14,15,16,17,25,26,27,36,37,47]，共10种方案
>选3个空闲时间：[147]，共1种方案
>
>答案：B

14.一个班级有 10 个男生和 12 个女生。如果要选出一个 3 人的小组，并且小组中必须至少包含 1 个女生，那么有多少种可能的组合?(                  )

A. 1420   B. 1770   C. 1540   D. 2200

>分类讨论
>
>小组里有一个女生、小组里有两个女生、小组里有三个女生。
>
>小组中有一个女生：C(12,1) * C(10,2) = 12×10×9/2=540
>两个女生：C(12,2) * C(10,1) = 12×11/2×10=660
>三个女生：C(12,3) = 12×11×10/6=220
>
>540 + 660 + 220 = 1420
>
>答案 A

#### [2024-CSP-J]

3 某公司有 10 名员工，分为 3 个部门：A 部门有 4 名员工，B 部门有 3 名员工、C 部门有 3 名员工。现需要从这 10 名员工中选出 4 名组成一个工作组，且每个部门至少要有 1 人。 问有多少种选择方式？（ ）
A 120
B 126
C 132
D 238

>分类法
>
>从3个部门选4个人组成1个工作组，必然有1个部门选出2个人，其余2个部门选1个人，选出2个人的部门可能是3个部门的任意个
>A部门2人，BC部门 各1人 C(4,2) * C(3,1) * C(3,1)=54
>B部门2人，AC部门 各1人 C(4,1) * C(3,2) * C(3,1)=36
>C部门2人，AB部门 各1人 C(4,1) * C(3,1) * C(3,2)=36
>54+36+36=126
>
>答案 B

14 有 5 个男生和 3 个女生站成一排，规定 3 个女生必须相邻，问有多少种不同的排列方式（ ）
A 4320 种
B 5040 种
C 3600 种
D 2880 种

>相邻问题，使用捆绑法
>
>**解析**
>
>把3各女生捆绑在一起和5个男生站成一排，A(6,6)=720种
>3个女生内部交换，为不同的顺序，共A(3,3)=6种
>720*6=4320种
>所以选A
>
>答案 A

### CSP-S

#### [2019-CSP-S]

6.由数字1，1，2，4，8，8所组成的不同的4位数的个数是（  ）

A.104    B.102  C.98     D.100

>分类重复问题
>
>第一种情况：选择1248 这4个不同的数，那么就是`A(4,4) = 24`
>
>第二种情况：选择11 或者88 有一组重复的数据，那么就是`C(2,1) * C(3,2) * A(4,4) / A(2,2) = 72 `
>
>第三种情况：选择11 和88，那么就是`A(4,4)/(A(2,2)*A(2,2)) = 6`
>
>结果：102

10.一次期末考试，某班有15人数学得满分，有12人语文得满分，并且有4人语、数都是满分，那么这个班至少有一门得满分的同学有多少人？(  )

A.23     B.21 C.20     D.22

>`15 + 12 - 4 = 23`

#### [2021-CSP-S]

13.有 8 个苹果从左到右排成一排，你要从中挑选至少一个苹果，并且不能同时挑选相邻的两个苹果，一共有（ ）种方案。

A. 36 B. 48 C. 54 D. 64

>枚举法
>
>第一种情况：选 1 个苹果，有 8 种结果。
>
>第二种情况：选 2 个苹果，先固定第一个，在往后挑选第二个，有 6+5+4+3+2+1=21 种。
>
>第三种情况：选 3 个苹果，有 4+3+2+1+3+2+1+2+1+1=20 。
>
>第四种情况：选 4 个苹果，有 5 种。
>
>答案：C

#### [2022-CSP-S]

10.共有 88 人选修了程序设计课程，期末大作业要求由 22 人组成的团队完成。假设不区分每个团队内 22 人的角色和作用，请问共有多少种可能的组队方案。（ ）

A. 28 B. 32 C. 56 D. 64

>C(8,2) = 28
>
>答案：A

#### [2023-CSP-S]

2.0,1,2,3,4 中选取 4个数字，能组成（）个不同四位数（注：最小的四位数是 1000最大的四位数是 9999）。
A. 96   B. 18   C. 120   D. 84 

>特殊位置优先
>
>最高位不能选0，C(4,1)
>
>剩余3位，在剩余的4个数字中随便排A(4,3)
>
>答案：`C(4,1) * A(4,3) = 96`

#### [2024-CSP-S]

4 在一场比赛中，有10名选手参加、前三名将获得金、银、牌。若不允许并列、且每名选手只能获得一枚奖牌，则不同的颁奖方式其有多少种?( )
A 120   B 720  C 504  D 1000

>`C(10,3) * A(3,3) = 720`

### NOIP

#### [2017-NOIP-普及组]

9.甲、乙、丙三位同学选修课程，从 4 门课程中，甲选修 2 门，乙、丙各选修 3 门，则不同的选修方案共有（ ）种。

A. 36 B. 48 C. 96 D. 192

>`C(4,2) * C(4,3) * C(4,3) = 96`

#### [2017-NOIP-提高组]

9.将 7 个名额分给 4 个不同的班级，允许有的班级没有名额，有（ ）种不 同的分配方案。

A. 60 B. 84 C. 96 D. 120

>球同，盒不同，可为空 `C(N+M-1, M-1)`
>
>即`C(11-1,4-1) = 120`

#### [2016-NOIP-普及组]

16.有 7 个一模一样的苹果，放到 3 个一样的盘子中，一共有（ ）种放法。

A. 7 B. 8 C. 21 D. 3^7

>球同，盒同，可空
>
>007  
>
>016 
>
>025 
>
>034
>
>115
>
>124
>
>133
>
>223
>
>答案：8种


---

欢迎关注我的公众号**wangsir 聊信息学**，原创技术文章第一时间推送。

<center>
    <img src="https://cdn.jsdelivr.net/gh/pingguo1987/CSP-NOIP-GESP-/image/pic/扫码_搜索联合传播样式-白色版.png">
</center>
